% \chapter{Introdução} 
\chapter[Introdução]{Introdução}

\label{chap:intro}

Durante os cursos de Ciência da Computação, são vistas estruturas matemáticas muito diferentes daquelas as quais alunos de ensino médio estão habituados. No geral, grande parte destas estruturas são abstratas por não parecerem uma representação de um objeto real ou por, apesar de parecer, a razão de sua formulação não ser bem motivada de início. A exemplo de tais estruturas temos vetores, matrizes, filas e grafos, utilizados na modelagem de diversos problemas. Apesar destas ferramentas serem extremamente úteis, há um tipo de objeto matemático sempre presente na maioria dos problemas e que muitas vezes são considerados limitados e apenas objetos auxiliares demasiadamente utilizados: estes são os números inteiros. O conjunto dos números inteiros, apesar de ser formado por objetos (números) vistos como simples, possui diversas endorrelações que levam a muitas conclusões e invenções de grande importância, principalmente para o campo da criptografia. Dentre estas relações, duas delas são pilares fundamentais para tais conclusões e invenções mencionadas: a relação de divisibilidade e de congruência. A primeira é definida da seguinte forma \cite{book:2399854}:
\\
\begin{definição}
        $\forall d, a \in \mathbb{Z}$, \textbf{$d$ divide $a$} (ou em outras palavras: $a$ é um múltiplo de $d$) se e somente se a seguinte proposição é verdadeira:
    \begin{equation*}
        \exists q \in \mathbb{Z}, a = d \cdot q
    \end{equation*}
    assim, se tal proposição é verdadeira e portanto $d$ divide $a$, tem-se a seguinte notação que representa tal afirmação:
    \begin{equation*}
        d \mid a
    \end{equation*}
    caso contrário, a negação de tal afirmação ($d$ não divide $a$) é representada por:
    \begin{equation*}
        d \nmid a
    \end{equation*}
\end{definição}

Se introduz também aqui o conceito de resto da divisão, para o qual deve-se lembrar da divisão euclidiana, também conhecida como divisão com resto. Todo algoritmo equivalente a tal divisão tem como resultados um quociente $q$ e um resto $r$, de forma que a seguinte proposição é verdadeira:

\begin{equation*}
        \forall a, b \in \mathbb{Z}, \exists q, r \in \mathbb{Z}, (a = b \cdot q + r \land 0 \leq r < \abs{b})
\end{equation*}

Define-se então o que se chama de congruência módulo $n$, para algum $n \in \mathbb{N}$ \cite{book:2399854}:

\begin{definição}
    Para todo $a, b, n \in \mathbb{Z}$, $a$ é congruente a $b$ módulo $n$ se e somente se, pela divisão euclidiana $a/n$ e $b/n$ (onde $0 \leq r_a < \abs{n}$ e $0 \leq r_b < \abs{n}$) tem-se
    \begin{equation*}
        a = n \cdot q_a + r_a
    \end{equation*}
    e
    \begin{equation*}
        b = n \cdot q_b + r_b
    \end{equation*}
    com $r_a = r_b$, o que também equivale a dizer que:
    \begin{equation*}
        n \mid a - b
    \end{equation*}
    tal relação entre os inteiros $a$, $b$ e $n$ é representada por:
    \begin{equation*}
        a \equiv b \pmod{n}
    \end{equation*}
\end{definição}

Tais definições levam a uma série de teoremas como os relacionados à função $\varphi$ de Euler, muito utilizados em criptografia, e além disso, à criação de estruturas mais complexas a partir do conjunto dos números inteiros, como os anéis e grupos de unidades \cite{book:2399854}.

% Um conteúdo que carece de formalizações e provas, e possui relação com o conteúdo a ser apresentado neste trabalho, é o algoritmo de Tonelli-Shanks, também conhecido como Algoritmo \hyperref[algo:ressol]{\textsc{Ressol}} \cite{Huynh1581080}, acrônimo este que significa \textit{Residue Solver} de acordo com \cite{Niven1915}. Esse método resolve congruências quadráticas, isto é, equações da seguinte forma:
% \begin{equation}
%     \label{eq:congruenciaquadratica}
%     r^2 \equiv n \pmod p
% \end{equation}
% em que $r, n, p \in \mathbb{Z}$, onde $p$ é um número primo, $n$ é um valor conhecido e $r$ é o valor a ser computado. Este método foi proposto em \apud{danielShanks}{Maheswari}, sendo uma versão aprimorada do que foi apresentado em \cite{Tonelli1891}.
% % Este método foi proposto inicialmente em \cite{Tonelli1891}, porém foi aprimorado anos depois em \apud{danielShanks}{Kumar2020AnAF}.
% Como motivação ao leitor, uma das utilidades deste algoritmo está relacionada ao \textit{Rabin Cryptosystem}, visto que esse sistema tem relações com resíduos quadráticos \cite{Huynh1581080}. No entanto esse não é único contexto em que aparecem equações com resíduos quadráticos, por isso, pode-se dizer que existe uma vasta quantidade de aplicações do Algoritmo \hyperref[algo:ressol]{\textsc{Ressol}}. Um exemplo adicional são os sistemas de criptografia que utilizam curvas elípticas, conforme mencionado em \cite{PalashSarkar2024AdvancesinMathematicsofCommunications}, \cite{kumar2021algorithm} e \cite{7133812}. 

Um conteúdo que carece de formalizações e provas, e possui relação com o que será apresentado neste trabalho, é o algoritmo de Tonelli-Shanks, também conhecido como Algoritmo \hyperref[algo:ressol]{\textsc{Ressol}} \cite{Huynh1581080}, acrônimo este que significa \textit{Residue Solver} de acordo com \cite{Niven1915}. Esse método resolve congruências quadráticas, isto é, equações da seguinte forma:
\begin{equation}
    \label{eq:congruenciaquadratica}
    r^2 \equiv n \pmod p
\end{equation}
em que $r, n, p \in \mathbb{Z}$, onde $p$ é um número primo, $n$ é um valor conhecido e $r$ é o valor a ser computado. Este método foi proposto em \apud{danielShanks}{Maheswari}, sendo uma versão aprimorada do que foi apresentado em \cite{Tonelli1891} e a existência do valor $r$ calculado pelo algoritmo pode ser verificada por meio do \textit{símbolo de Legendre}, tema principal deste trabalho. Este tema não sofre da mesma carência em relação à formalizações que ocorre com o algoritmo de Tonelli-Shanks, no entanto não está formalizado na biblioteca Mathematical Components e por isso o presente trabalho busca abrir caminho para implementação de temas como Algoritmo \hyperref[algo:ressol]{\textsc{Ressol}} na biblioteca realizando a implementação do \textit{símbolo de Legendre}.

% Este método foi proposto inicialmente em \cite{Tonelli1891}, porém foi aprimorado anos depois em \apud{danielShanks}{Kumar2020AnAF}.
Como motivação ao leitor, o tema de congrûencias quadráticas, e por conseqûencia o algoritmo de Tonelli-Shanks (junto a quaisquer outros algoritmos que realizam a mesma tarefa), estão relacionados a sistemas de criptografia que utilizam curvas elípticas, conforme mencionado em \cite{PalashSarkar2024AdvancesinMathematicsofCommunications}, \cite{kumar2021algorithm} e \cite{7133812}.

% Como motivação ao leitor, uma das utilidades do algoritmo de Tonelli-Shanks está relacionada ao \textit{Rabin Cryptosystem}, visto que esse sistema tem relações com resíduos quadráticos \cite{Huynh1581080}. No entanto esse não é único contexto em que aparecem equações com resíduos quadráticos, por isso, pode-se dizer que existe uma vasta quantidade de aplicações do Algoritmo \hyperref[algo:ressol]{\textsc{Ressol}}. Um exemplo adicional são os sistemas de criptografia que utilizam curvas elípticas, conforme mencionado em \cite{PalashSarkar2024AdvancesinMathematicsofCommunications}, \cite{kumar2021algorithm} e \cite{7133812}. Essas considerações (sobre utilidades) valem portanto para qualquer algoritmo que resolve congruências quadráticas. 

% Essas considerações (sobre utilidades) valem portanto para qualquer algoritmo que resolve congruências quadráticas. Além disso, há uma função que possui relação com Algoritmo \hyperref[algo:ressol]{\textsc{Ressol}} (e possivelmente com outros métodos que possuem o mesmo objetivo), por indicar a existência ou não de uma solução para um instância da Equação \ref{eq:congruenciaquadratica}. Esta é chamada de \textit{símbolo de Legendre}, o principal tema deste trabalho.

% Essas considerações (sobre utilidades) valem portanto para qualquer algoritmo que resolve congruências quadráticas. Além disso, no que se trata sobre a relação do Algoritmo \hyperref[algo:ressol]{\textsc{Ressol}} (e possivelmente de outros métodos que possuem o mesmo objetivo), há uma função que se relaciona com tal por indicar a existência ou não de uma solução para um instância da Equação \ref{eq:congruenciaquadratica}. Esta .

Tais conceitos matemáticos explorados até o momento e quaisquer outros de áreas diversas sempre necessitam de alguma formalização. Especificamente quando se trata de algoritmos e teoremas, estes requerem provas para que sejam úteis (válidos). Nesse contexto, a matemática por muito tempo sempre se baseou na verificação de provas manualmente, isto é, por outros matemáticos, devido às limitações tecnológicas no passado. Tal dependência na verificação manual permitiu erros que fizeram com que muitas provas incorretas fossem tomadas como válidas, até que alguém notasse algum erro.  A exemplo disso tem-se o teorema tratado em \cite{Neeman2002}, onde se apresenta um contra-exemplo para o mesmo.

Solucionando o risco das provas manuais, atualmente, muito se emprega o uso de auxiliadores de prova: programas que verificam se um prova está correta, inutilizando a necessidade de verificação manual e sendo também uma forma muito mais confiável de verificação (pois se trata de um processo mecânico). Se pretende neste trabalho utilizar o assistente de provas Coq, no entanto existem diversos outros, como Lean e Idris. Especificamente o assistente Coq é baseado em um formalismo chamado de Cálculo de Construções Indutivas \cite{paulinmohring:hal-01094195}, e a confiança em tal programa se deve à simplicidade de sua construção, no sentido de que tal programa pode ser verificado manualmente com facilidade.

Tendo em mente as informações mencionadas sobre formalizações e o assistente Coq, deve-se apresentar aqui a biblioteca disponível em tal assistente, cujo presente trabalho pretende contribuir: a biblioteca Mathematical Components, que está disponível em repositório no site Github\footnote{https://github.com/math-comp/math-comp}. Este projeto teve início com e contém a sustentação da prova do Teorema da Ordem Ímpar e do Teorema das 4 Cores \cite{assia_mahboubi_2022_7118596}, este último o qual é muito famoso na área de assistentes de prova, visto que foi proposto (porém não provado) em 1852 por Francis Guthrie, de acordo com \cite{gonthier:hal-04034866}. A então conjectura só veio a ser provada em 1976 por \cite{bams/1183538218}, no entanto a prova apresentada foi alvo de críticas, das quais parte se devem ao fato de que a prova envolvia uma análise manual de 10000 casos em que pequenos erros foram descobertos \cite{gonthier:hal-04034866}. Devido ao ceticismo quanto a prova apresentada em 1976, foi então desenvolvida e publicada por \cite{gonthier:hal-04034866} uma nova versão da prova, feita em Coq, no ano de 2005.

A biblioteca Mathematical Components, apesar de vasta, obviamente não apresenta formalizações diversos temas. Sendo assim, a decisão de se tratar sobre o \textit{símbolo de Legendre} neste trabalho, se sustenta pelas seguintes justificativas:
\begin{enumerate}
    \item Esta função não está implementada e/ou formalizada na biblioteca Mathematical Components.
    \item A base de teoremas, lemas e definições necessários para a formalização deste conteúdo inclui diversos itens, dos quais, parte não se encontram na biblioteca Mathematical Components.
    \item A formalização deste tema possibilita futuros trabalhos sobre outros conteúdos relevantes ainda não implementados na biblioteca como o já mencionado Algoritmo \hyperref[algo:ressol]{\textsc{Ressol}} (sobre o qual não há implementação em \textit{Coq}) e a \textit{Lei de Reciprocidade Quadrática}. 
    
    % \label{item:objetivo-secundario} Tal base necessária abre a possibilidade para um segundo objetivo, que seria a formalização da lei da reciprocidade quadrática (que também não está disponível na biblioteca) e possui aplicações que serão apresentadas no Capitulo \ref{cap:reciprocidadequadratica}. 
\end{enumerate}
% Quanto ao objetivo secundário apresentado no Item \ref{item:objetivo-secundario} é interessante destacar que a prova deste teorema já foi implementada em \textit{Lean} e \textit{Isabelle}, estando ambas disponíveis publicamente\footnote{Implementação em \textit{Lean}: \url{https://github.com/leanprover-community/mathlib4/blob/261109249151ce5651da62077c255a5c76b4941e/Mathlib/NumberTheory/LegendreSymbol/QuadraticReciprocity.lean\#L121-L133}}\footnote{ Implementação em \textit{Isabelle}:
% \url{https://isabelle.in.tum.de/dist/library/HOL/HOL-Number\_Theory/Quadratic\_Reciprocity.html}}.

\section{Objetivo Geral}

O objetivo geral do presente trabalho é realizar uma implementação do \textit{símbolo de Legendre} voltada para a biblioteca Mathematical Components.

\section{Objetivos Específicos} \label{sec:obj-esp}

Seguindo as necessidades para realização do objetivo geral, os objetivos específicos deste trabalho são:

\begin{enumerate}
    \item \label{item:obj-esp-1} Obter conhecimentos avançados sobre o assistente de provas \textit{Coq}.
    \item \label{item:obj-esp-2} Realizar o estudo sobre as principais documentações da biblioteca Mathematical Components.
    \item \label{item:obj-esp-3} Desenvolver a capacidade de realizar provas em \textit{Coq} utilizando as táticas da linguagem de provas \textit{SSReflect}.
    \item \label{item:obj-esp-4} Estudar conteúdos de Teoria dos Números relacionados ao \textit{símbolo de Legendre}.
    \item \label{obj:func} Implementar uma função que compute o valor do \textit{símbolo de Legendre} e provar que a corretude da mesma utilizando-se da biblioteca Mathematical Components.
    \item \label{obj:proofs} Provar teoremas úteis para manipulação de expressões envolvendo o \textit {símbolo de Legendre} utilizando-se da biblioteca Mathematical Components.
\end{enumerate}
 
\section{Estrutura do Trabalho}

O presente trabalho está dividido da seguinte maneira: o Capítulo \ref{cap:mathcomp} trata sobre conhecimentos básicos em relação a biblioteca Mathematical Components e ferramentas em \textit{Coq} utilizadas nesta; o Capítulo \ref{cap:base} traz conteúdos de Teoria dos Números com objetivo de introduzir o conceito de \textit{símbolo de Legendre}; no Capítulo \ref{cap:implementacao} são apresentadas a formalização de provas relacionadas ao \textit{símbolo de Legendre}, disponibilizadas então em \url{https://github.com/bruniculos08/mathcomp-contributions}, onde para tais implementações foi utilizada a versão 8.19.2 do \textit{Coq}; o Capítulo \ref{cap:conclusao} traz por fim as conclusões sobre este trabalho. Os apêndices \ref{cap:tonelli-shanks} e \ref{cap:reciprocidadequadratica} trazem conteúdos que podem vir a ser implementados na biblioteca Mathematical Components em trabalhos futuros: o Algoritmo \hyperref[algo:ressol]{\textsc{Ressol}} e a \textit{Lei de Reciprocidade Quadrática} respectivamente.

